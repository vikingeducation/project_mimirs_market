<header class="page-header">
  <h1>Products</h1>
</header>

<form class="form-inline" action="{{ productsPath }}">
  <section class="form-group">
    <label for="category">Category</label>
    <select name="category" id="category" class="form-control">
      {{#each categories as |category|}}
      <option value="{{ category.id }}" {{#if category.selected }}selected{{/if}}>{{ category.name }}</option>
      {{/each}}
    </select>
  </section>
  <button class="btn btn-info">Filter</button>
</form>


{{#if products.length }}
<table class="table">
  <thead>
    <tr>
      <th>Name</th>
      <th>Category</th>
      <th>Price</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    {{#each products as |product| }}
    <tr>
      <td>
        <a href="{{ productPath product.id }}">{{ product.name }}</a>
      </td>
      <td>
        <a href="{{ categoryPath product.Category.id }}">{{ product.Category.name }}</a>
      </td>
      <td>
        {{ product.prettyPrice }}
      </td>
      <td>
        <a class="btn btn-primary" href="{{ addProductPath product.id }}">
            Add to Cart</a>
      </td>
    </tr>
    {{/each }}
  </tbody>
</table>
{{else }}
<p class="text-danger">No products</p>
{{/if }}
