<div class="container-fluid">
  <!-- Main Product -->
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1" style="text-align:center;">
      <h3>Product</h3>
      <div class="col-sm-12" style="border:2px solid black; text-align:left; padding: 1em;">
        <div class="col-sm-2">
          <img src="../assets/images/vikingShip.png" style="height:8em; width:11em; margin-top: 1em; margin-bottom: 1em;">
        </div>
        <div class="col-sm-3 col-sm-offset-1">
          <h4>{{mainProduct.name}}</h4>
          <h4>{{mainProduct.Category.name}}</h4>
          <h4>${{mainProduct.price}}.00</h4>
        </div>
        <div class="col-sm-5 col-sm-offset-1">
          <p>{{mainProduct.description}}</p>
          <a href="/product/addToCart/{{mainProduct.id}}"><button id="add{{mainProduct.id}}" class="btn btn-primary">Add to Cart</button></a>
          <a href="/checkout"><button id="edit{{mainProduct.id}}" class="btn btn-success">Edit in Cart</button></a>

        </div>
      </div>
      <script>
        var buttonAdd = document.getElementById('add{{mainProduct.id}}');
        var buttonEdit = document.getElementById('edit{{mainProduct.id}}');
        var bool = true;
        for(var i = 0; i < [{{cookieCart}}].length; i++) {
            if([{{cookieCart}}][i] === {{mainProduct.id}}) {
                buttonAdd.style.display = "none";
                bool = false;
                break;
            }
        }
        if (bool) {
          buttonEdit.style.display = "none";
        }
      </script>
    </div>
  </div>
  <!-- Related Products -->
  <div class="row" style="text-align:center;">

      <h3 >Related Products</h3>
      {{#each productsByCategory as |prod|}}
      <div class="col-sm-3" style="border: 2px solid black; margin: 1em; margin-left:3.5em;">
        <div class="col-sm-10 col-sm-offset-1" style="padding-bottom: 1em; height:20em;" >
          <img src="../assets/images/vikingShip.png" style="height:8em; width:11em; margin-top: 1em; margin-bottom: 1em;">
          <h5>${{prod.price}}.00</h5>
          <a href="/product/{{prod.id}}"><h5>{{prod.name}}</h5></a>
          <h5>{{prod.Category.name}}</h5>
          <a href="/product/addToCart/{{prod.id}}"><button id="add{{prod.id}}" class="btn btn-primary">Add to Cart</button></a>
          <a href="/checkout"><button id="edit{{prod.id}}" class="btn btn-success">Edit in Cart</button></a>
        </div>

        <script>
          var buttonAdd = document.getElementById('add{{prod.id}}');
          var buttonEdit = document.getElementById('edit{{prod.id}}');
          var bool = true;
          for(var i = 0; i < [{{../cookieCart}}].length; i++) {
              if([{{../cookieCart}}][i] === {{prod.id}}) {
                  buttonAdd.style.display = "none";
                  bool = false;
                  break;
              }
          }
          if (bool) {
            buttonEdit.style.display = "none";
          }
        </script>
      </div>
      {{/each}}

  </div>
</div>
