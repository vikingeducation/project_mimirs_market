{{#if products.length}}

<header class="page-header mb-4">
  <h1 class="">Your Cart</h1>
</header>

  <div class="row">
    <div class="col-sm-4">
      <div class="list-group">
        {{#each products as |product|}}
          <a id="product{{product.id}}" class="list-group-item" href="/products/{{ product.id }}">
            <img class="w-100" src="{{ product.img }}">
            <div class="mt-3 d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{product.name}}</h5>
              <small><span class="mr-1">x</span>{{product.quantity}}</small>
            </div>
            <p class="mb-1">Subtotal: {{currency product.subtotal}}</p>
          </a>
        {{/each}}
      </div>
    </div>

    {{#each products as |product|}}
      <div class="col-sm-offset-4 col-sm-8">
        <div id="product{{product.id}}" class="card my-3">
          <div class="product-image-container">
            <a href="{{ productPath product.id }}">
              <img class="card-img-top gallery-image" src="{{product.img}}">
            </a>
            <div class="product-price">{{ currency product.price }}</div>
          </div>
          <div class="card-block">
            <h4 class="card-title mt-2">
              <a href="{{ productPath product.id }}">
                {{ product.name }}
              </a>
            </h4>
            <p class="card-text">
              in
              <a href="/products?category={{ product.Category.id }}">
                {{ product.Category.name }}
              </a>
            </p>
            <p class="card-text">
              <form class="form-inline" action="{{ editCartPath }}" method="post">
                <label class="mr-sm-2" for="quantity">Quantity</label>
                <input type="hidden" name="id" value="{{product.id}}">
                <input type="number" id="quantity" class="form-control mr-2" name="quantity" min="0" value="{{product.quantity}}">
                <button type="submit" class="btn btn-primary my-2">Set Quantity</button>
              </form>
            </p>
            <div>
              Subtotal: {{ currency product.subtotal }}
            </div>
            <p class="card-text">
              <form action="{{ removeCartPath }}" method="post">
                <input type="hidden" name="id" value="{{product.id}}">
                <button type="submit" class="btn btn-primary">Remove</button>
              </form>
            </p>
          </div>
        </div>
      </div>
    {{/each}}

  </div>

  <div>
    Total: {{ currency total }}
  </div>

  <p class="card-text">
    <form action="{{ destroyCartPath }}" method="post">
      <button type="submit" class="btn btn-danger">Remove All Items</button>
    </form>
    <form action=""
  </p>

{{else}}
  <p class="text-danger text-center">There are no items in your shopping cart.</p>
{{/if}}
